{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91900\\\\OneDrive\\\\Desktop\\\\capstone project backup copy\\\\frontend\\\\src\\\\components\\\\Home.js\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Loader from \"../ui/Loader/Loader\";\nimport Shelf from \"./Shelf\";\nimport * as BooksAPI from \"../BooksAPI\";\nimport { useCookies } from \"react-cookie\";\n// import HomePage from './HomePage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = ({\n  shelfs,\n  shelfOptionSelected,\n  selectingOption,\n  selectMenuDisabled,\n  homeLoader,\n  initializeHomeLoader,\n  handleShelfs\n}) => {\n  const [cookies, setCookie] = useCookies([\"visited\"]);\n  useEffect(() => {\n    const isVisited = cookies.visited;\n    if (!isVisited) {\n      const expirationDate = new Date();\n      expirationDate.setFullYear(expirationDate.getFullYear() + 1); // Set expiration to 1 year from now\n      setCookie(\"visited\", true, {\n        path: \"/\",\n        expires: expirationDate\n      });\n    }\n    initializeHomeLoader();\n    BooksAPI.getAll().then(data => {\n      handleShelfs(data, \"home\");\n    });\n  }, [cookies.visited, initializeHomeLoader, handleShelfs]);\n  const allShelfs = Object.keys(shelfs).map(shelf => /*#__PURE__*/_jsxDEV(Shelf, {\n    id: shelf,\n    shelfs: shelfs,\n    shelfOptionSelected: shelfOptionSelected,\n    selectingOption: selectingOption,\n    selectMenuDisabled: selectMenuDisabled\n  }, shelf, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-screen\",\n    children: homeLoader ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [selectMenuDisabled && /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"select-shelf-loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: allShelfs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-search\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/search\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Add a book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\nHome.propTypes = {\n  shelfs: PropTypes.object.isRequired,\n  initializeHomeLoader: PropTypes.func.isRequired,\n  handleShelfs: PropTypes.func.isRequired\n};\nexport default Home;\n\n// import React, { Component } from \"react\";\n// import PropTypes from \"prop-types\";\n// import Loader from \"../ui/Loader/Loader\";\n// import Shelf from \"./Shelf\";\n// import * as BooksAPI from \"../BooksAPI\";\n\n// class Home extends Component {\n\n//   componentDidMount() {\n//     const {\n//       initializeHomeLoader,\n//       handleShelfs,\n//       isAuthenticated,\n//       history,\n//     } = this.props;\n\n//     initializeHomeLoader();\n//     BooksAPI.getAll().then((data) => {\n//       handleShelfs(data, \"home\");\n//     });\n\n//     const callHomePage = async () => {\n\n//       try {\n//         if (!isAuthenticated) {\n//           history.push(\"/signin\");\n//         }\n\n//         const res = await fetch(\"/\", {\n//           method: \"GET\",\n//           headers: {\n//             Accept: \"application/json\",\n//             \"Content-Type\": \"application/json\",\n//           },\n//           credentials: \"include\",\n//         });\n\n//         const data = await res.json();\n//         console.log(data);\n\n//         if (!res.status === 200) {\n//           const error = new Error(res.error);\n//           throw error;\n//         }\n//       } catch (err) {\n//         console.log(err);\n//         // history.push(\"/register\");\n//       }\n//     };\n\n//     callHomePage();\n//   }\n\n//   render() {\n//     const {\n//       shelfs,\n//       shelfOptionSelected,\n//       selectingOption,\n//       selectMenuDisabled,\n//       homeLoader,\n//     } = this.props;\n\n//     return (\n//       <div className=\"home-screen\">\n//         {homeLoader ? (\n//           <Loader />\n//         ) : (\n//           <>\n//             {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\n//             <div>\n//               {Object.keys(shelfs).map((shelf) => (\n//                 <Shelf\n//                   key={shelf}\n//                   id={shelf}\n//                   shelfs={shelfs}\n//                   shelfOptionSelected={shelfOptionSelected}\n//                   selectingOption={selectingOption}\n//                   selectMenuDisabled={selectMenuDisabled}\n//                 />\n//               ))}\n//             </div>\n//             <div className=\"open-search\">\n//               <a href=\"/search\">\n//                 <button>Add a book</button>\n//               </a>\n//             </div>\n//           </>\n//         )}\n//       </div>\n//     );\n//   }\n// }\n\n// Home.propTypes = {\n//   shelfs: PropTypes.object.isRequired,\n//   initializeHomeLoader: PropTypes.func.isRequired,\n//   handleShelfs: PropTypes.func.isRequired,\n//   shelfOptionSelected: PropTypes.func.isRequired,\n//   selectingOption: PropTypes.func.isRequired,\n//   selectMenuDisabled: PropTypes.bool.isRequired,\n//   homeLoader: PropTypes.bool.isRequired,\n//   isAuthenticated: PropTypes.bool.isRequired,\n// };\n\n// export default Home;","map":{"version":3,"names":["React","useEffect","Link","PropTypes","Loader","Shelf","BooksAPI","useCookies","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","shelfs","shelfOptionSelected","selectingOption","selectMenuDisabled","homeLoader","initializeHomeLoader","handleShelfs","cookies","setCookie","isVisited","visited","expirationDate","Date","setFullYear","getFullYear","path","expires","getAll","then","data","allShelfs","Object","keys","map","shelf","id","fileName","_jsxFileName","lineNumber","columnNumber","className","children","to","propTypes","object","isRequired","func"],"sources":["C:/Users/91900/OneDrive/Desktop/capstone project backup copy/frontend/src/components/Home.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Loader from \"../ui/Loader/Loader\";\r\nimport Shelf from \"./Shelf\";\r\nimport * as BooksAPI from \"../BooksAPI\";\r\nimport { useCookies } from \"react-cookie\";\r\n// import HomePage from './HomePage';\r\n\r\nconst Home = ({\r\n  shelfs,\r\n  shelfOptionSelected,\r\n  selectingOption,\r\n  selectMenuDisabled,\r\n  homeLoader,\r\n  initializeHomeLoader,\r\n  handleShelfs,\r\n}) => {\r\n  const [cookies, setCookie] = useCookies([\"visited\"]);\r\n\r\n  useEffect(() => {\r\n    const isVisited = cookies.visited;\r\n    if (!isVisited) {\r\n      const expirationDate = new Date();\r\n      expirationDate.setFullYear(expirationDate.getFullYear() + 1); // Set expiration to 1 year from now\r\n      setCookie(\"visited\", true, { path: \"/\", expires: expirationDate });\r\n    }\r\n\r\n    initializeHomeLoader();\r\n    BooksAPI.getAll().then((data) => {\r\n      handleShelfs(data, \"home\");\r\n    });\r\n  }, [cookies.visited, initializeHomeLoader, handleShelfs]);\r\n\r\n  const allShelfs = Object.keys(shelfs).map((shelf) => (\r\n    <Shelf\r\n      key={shelf}\r\n      id={shelf}\r\n      shelfs={shelfs}\r\n      shelfOptionSelected={shelfOptionSelected}\r\n      selectingOption={selectingOption}\r\n      selectMenuDisabled={selectMenuDisabled}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div className=\"home-screen\">\r\n      {homeLoader ? (\r\n        <Loader />\r\n        \r\n      ) : (\r\n        <>\r\n          {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n          <div>{allShelfs}</div>\r\n          <div className=\"open-search\">\r\n            <Link to=\"/search\">\r\n              <button>Add a book</button>\r\n            </Link>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  shelfs: PropTypes.object.isRequired,\r\n  initializeHomeLoader: PropTypes.func.isRequired,\r\n  handleShelfs: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Home;\r\n\r\n// import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n// import Loader from \"../ui/Loader/Loader\";\r\n// import Shelf from \"./Shelf\";\r\n// import * as BooksAPI from \"../BooksAPI\";\r\n\r\n// class Home extends Component {\r\n\r\n//   componentDidMount() {\r\n//     const {\r\n//       initializeHomeLoader,\r\n//       handleShelfs,\r\n//       isAuthenticated,\r\n//       history,\r\n//     } = this.props;\r\n\r\n//     initializeHomeLoader();\r\n//     BooksAPI.getAll().then((data) => {\r\n//       handleShelfs(data, \"home\");\r\n//     });\r\n\r\n//     const callHomePage = async () => {\r\n\r\n//       try {\r\n//         if (!isAuthenticated) {\r\n//           history.push(\"/signin\");\r\n//         }\r\n\r\n//         const res = await fetch(\"/\", {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             Accept: \"application/json\",\r\n//             \"Content-Type\": \"application/json\",\r\n//           },\r\n//           credentials: \"include\",\r\n//         });\r\n\r\n//         const data = await res.json();\r\n//         console.log(data);\r\n\r\n//         if (!res.status === 200) {\r\n//           const error = new Error(res.error);\r\n//           throw error;\r\n//         }\r\n//       } catch (err) {\r\n//         console.log(err);\r\n//         // history.push(\"/register\");\r\n//       }\r\n//     };\r\n\r\n//     callHomePage();\r\n//   }\r\n\r\n//   render() {\r\n//     const {\r\n//       shelfs,\r\n//       shelfOptionSelected,\r\n//       selectingOption,\r\n//       selectMenuDisabled,\r\n//       homeLoader,\r\n//     } = this.props;\r\n\r\n//     return (\r\n//       <div className=\"home-screen\">\r\n//         {homeLoader ? (\r\n//           <Loader />\r\n//         ) : (\r\n//           <>\r\n//             {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n//             <div>\r\n//               {Object.keys(shelfs).map((shelf) => (\r\n//                 <Shelf\r\n//                   key={shelf}\r\n//                   id={shelf}\r\n//                   shelfs={shelfs}\r\n//                   shelfOptionSelected={shelfOptionSelected}\r\n//                   selectingOption={selectingOption}\r\n//                   selectMenuDisabled={selectMenuDisabled}\r\n//                 />\r\n//               ))}\r\n//             </div>\r\n//             <div className=\"open-search\">\r\n//               <a href=\"/search\">\r\n//                 <button>Add a book</button>\r\n//               </a>\r\n//             </div>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// Home.propTypes = {\r\n//   shelfs: PropTypes.object.isRequired,\r\n//   initializeHomeLoader: PropTypes.func.isRequired,\r\n//   handleShelfs: PropTypes.func.isRequired,\r\n//   shelfOptionSelected: PropTypes.func.isRequired,\r\n//   selectingOption: PropTypes.func.isRequired,\r\n//   selectMenuDisabled: PropTypes.bool.isRequired,\r\n//   homeLoader: PropTypes.bool.isRequired,\r\n//   isAuthenticated: PropTypes.bool.isRequired,\r\n// };\r\n\r\n// export default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}