{"ast":null,"code":"// import React, { useEffect } from \"react\";\n// import { Link } from \"react-router-dom\";\n// import PropTypes from \"prop-types\";\n// import Loader from \"../ui/Loader/Loader\";\n// import Shelf from \"./Shelf\";\n// import * as BooksAPI from \"../BooksAPI\";\n// import { useCookies } from \"react-cookie\";\n\n// // import HomePage from './HomePage';\n\n// const Home = ({\n//   shelfs,\n//   shelfOptionSelected,\n//   selectingOption,\n//   selectMenuDisabled,\n//   homeLoader,\n//   initializeHomeLoader,\n//   handleShelfs,\n// }) => {\n\n//   const [cookies] = useCookies([\"jwtoken\"]);\n\n//   useEffect(() => {\n//     initializeHomeLoader();\n//     BooksAPI.getAll().then((data) => {\n//       handleShelfs(data, \"home\");\n//     });\n//   }, [initializeHomeLoader, handleShelfs]);\n\n//   useEffect(() => {\n//     localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\n//   }, [shelfs]);\n\n//   const allShelfs = Object.keys(shelfs).map((shelf) => (\n//     <Shelf\n//       key={shelf}\n//       id={shelf}\n//       shelfs={shelfs}\n//       shelfOptionSelected={shelfOptionSelected}\n//       selectingOption={selectingOption}\n//       selectMenuDisabled={selectMenuDisabled}\n//     />\n//   ));\n\n//   return (\n//     <div className=\"home-screen\">\n//       {homeLoader ? (\n//         <Loader />\n//       ) : (\n//         <>\n//           {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\n//           <div>{allShelfs}</div>\n//           <div className=\"open-search\">\n//             <Link to=\"/search\">\n//               <button>Add a book</button>\n//             </Link>\n//           </div>\n//         </>\n//       )}\n//     </div>\n//   );\n// };\n\n// Home.propTypes = {\n//   shelfs: PropTypes.object.isRequired,\n//   initializeHomeLoader: PropTypes.func.isRequired,\n//   handleShelfs: PropTypes.func.isRequired,\n// };\n\n// export default Home;\n\n// import React, { Component } from \"react\";\n// import PropTypes from \"prop-types\";\n// import Loader from \"../ui/Loader/Loader\";\n// import Shelf from \"./Shelf\";\n// import * as BooksAPI from \"../BooksAPI\";\n\n// class Home extends Component {\n\n//   componentDidMount() {\n//     const {\n//       initializeHomeLoader,\n//       handleShelfs,\n//       isAuthenticated,\n//       history,\n//     } = this.props;\n\n//     initializeHomeLoader();\n//     BooksAPI.getAll().then((data) => {\n//       handleShelfs(data, \"home\");\n//     });\n\n//     const callHomePage = async () => {\n\n//       try {\n//         if (!isAuthenticated) {\n//           history.push(\"/signin\");\n//         }\n\n//         const res = await fetch(\"/\", {\n//           method: \"GET\",\n//           headers: {\n//             Accept: \"application/json\",\n//             \"Content-Type\": \"application/json\",\n//           },\n//           credentials: \"include\",\n//         });\n\n//         const data = await res.json();\n//         console.log(data);\n\n//         if (!res.status === 200) {\n//           const error = new Error(res.error);\n//           throw error;\n//         }\n//       } catch (err) {\n//         console.log(err);\n//         // history.push(\"/register\");\n//       }\n//     };\n\n//     callHomePage();\n//   }\n\nuseEffect(() => {\n  localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\n}, [shelfs]);\n\n//   render() {\n//     const {\n//       shelfs,\n//       shelfOptionSelected,\n//       selectingOption,\n//       selectMenuDisabled,\n//       homeLoader,\n//     } = this.props;\n\n//     return (\n//       <div className=\"home-screen\">\n//         {homeLoader ? (\n//           <Loader />\n//         ) : (\n//           <>\n//             {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\n//             <div>\n//               {Object.keys(shelfs).map((shelf) => (\n//                 <Shelf\n//                   key={shelf}\n//                   id={shelf}\n//                   shelfs={shelfs}\n//                   shelfOptionSelected={shelfOptionSelected}\n//                   selectingOption={selectingOption}\n//                   selectMenuDisabled={selectMenuDisabled}\n//                 />\n//               ))}\n//             </div>\n//             <div className=\"open-search\">\n//               <a href=\"/search\">\n//                 <button>Add a book</button>\n//               </a>\n//             </div>\n//           </>\n//         )}\n//       </div>\n//     );\n//   }\n// }\n\n// Home.propTypes = {\n//   shelfs: PropTypes.object.isRequired,\n//   initializeHomeLoader: PropTypes.func.isRequired,\n//   handleShelfs: PropTypes.func.isRequired,\n//   shelfOptionSelected: PropTypes.func.isRequired,\n//   selectingOption: PropTypes.func.isRequired,\n//   selectMenuDisabled: PropTypes.bool.isRequired,\n//   homeLoader: PropTypes.bool.isRequired,\n//   isAuthenticated: PropTypes.bool.isRequired,\n// };\n\n// export default Home;","map":{"version":3,"names":["useEffect","localStorage","setItem","JSON","stringify","shelfs"],"sources":["C:/Users/91900/OneDrive/Desktop/capstone project backup copy/frontend/src/components/Home.js"],"sourcesContent":["// import React, { useEffect } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\n// import PropTypes from \"prop-types\";\r\n// import Loader from \"../ui/Loader/Loader\";\r\n// import Shelf from \"./Shelf\";\r\n// import * as BooksAPI from \"../BooksAPI\";\r\n// import { useCookies } from \"react-cookie\";\r\n\r\n// // import HomePage from './HomePage';\r\n\r\n// const Home = ({\r\n//   shelfs,\r\n//   shelfOptionSelected,\r\n//   selectingOption,\r\n//   selectMenuDisabled,\r\n//   homeLoader,\r\n//   initializeHomeLoader,\r\n//   handleShelfs,\r\n// }) => {\r\n\r\n//   const [cookies] = useCookies([\"jwtoken\"]);\r\n\r\n//   useEffect(() => {\r\n//     initializeHomeLoader();\r\n//     BooksAPI.getAll().then((data) => {\r\n//       handleShelfs(data, \"home\");\r\n//     });\r\n//   }, [initializeHomeLoader, handleShelfs]);\r\n\r\n//   useEffect(() => {\r\n//     localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\r\n//   }, [shelfs]);\r\n\r\n//   const allShelfs = Object.keys(shelfs).map((shelf) => (\r\n//     <Shelf\r\n//       key={shelf}\r\n//       id={shelf}\r\n//       shelfs={shelfs}\r\n//       shelfOptionSelected={shelfOptionSelected}\r\n//       selectingOption={selectingOption}\r\n//       selectMenuDisabled={selectMenuDisabled}\r\n//     />\r\n//   ));\r\n\r\n//   return (\r\n//     <div className=\"home-screen\">\r\n//       {homeLoader ? (\r\n//         <Loader />\r\n//       ) : (\r\n//         <>\r\n//           {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n//           <div>{allShelfs}</div>\r\n//           <div className=\"open-search\">\r\n//             <Link to=\"/search\">\r\n//               <button>Add a book</button>\r\n//             </Link>\r\n//           </div>\r\n//         </>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// Home.propTypes = {\r\n//   shelfs: PropTypes.object.isRequired,\r\n//   initializeHomeLoader: PropTypes.func.isRequired,\r\n//   handleShelfs: PropTypes.func.isRequired,\r\n// };\r\n\r\n// export default Home;\r\n\r\n// import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n// import Loader from \"../ui/Loader/Loader\";\r\n// import Shelf from \"./Shelf\";\r\n// import * as BooksAPI from \"../BooksAPI\";\r\n\r\n// class Home extends Component {\r\n\r\n//   componentDidMount() {\r\n//     const {\r\n//       initializeHomeLoader,\r\n//       handleShelfs,\r\n//       isAuthenticated,\r\n//       history,\r\n//     } = this.props;\r\n\r\n//     initializeHomeLoader();\r\n//     BooksAPI.getAll().then((data) => {\r\n//       handleShelfs(data, \"home\");\r\n//     });\r\n\r\n//     const callHomePage = async () => {\r\n\r\n//       try {\r\n//         if (!isAuthenticated) {\r\n//           history.push(\"/signin\");\r\n//         }\r\n\r\n//         const res = await fetch(\"/\", {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             Accept: \"application/json\",\r\n//             \"Content-Type\": \"application/json\",\r\n//           },\r\n//           credentials: \"include\",\r\n//         });\r\n\r\n//         const data = await res.json();\r\n//         console.log(data);\r\n\r\n//         if (!res.status === 200) {\r\n//           const error = new Error(res.error);\r\n//           throw error;\r\n//         }\r\n//       } catch (err) {\r\n//         console.log(err);\r\n//         // history.push(\"/register\");\r\n//       }\r\n//     };\r\n\r\n//     callHomePage();\r\n//   }\r\n\r\n\r\nuseEffect(() => {\r\n  localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\r\n}, [shelfs]);\r\n\r\n\r\n//   render() {\r\n//     const {\r\n//       shelfs,\r\n//       shelfOptionSelected,\r\n//       selectingOption,\r\n//       selectMenuDisabled,\r\n//       homeLoader,\r\n//     } = this.props;\r\n\r\n//     return (\r\n//       <div className=\"home-screen\">\r\n//         {homeLoader ? (\r\n//           <Loader />\r\n//         ) : (\r\n//           <>\r\n//             {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n//             <div>\r\n//               {Object.keys(shelfs).map((shelf) => (\r\n//                 <Shelf\r\n//                   key={shelf}\r\n//                   id={shelf}\r\n//                   shelfs={shelfs}\r\n//                   shelfOptionSelected={shelfOptionSelected}\r\n//                   selectingOption={selectingOption}\r\n//                   selectMenuDisabled={selectMenuDisabled}\r\n//                 />\r\n//               ))}\r\n//             </div>\r\n//             <div className=\"open-search\">\r\n//               <a href=\"/search\">\r\n//                 <button>Add a book</button>\r\n//               </a>\r\n//             </div>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// Home.propTypes = {\r\n//   shelfs: PropTypes.object.isRequired,\r\n//   initializeHomeLoader: PropTypes.func.isRequired,\r\n//   handleShelfs: PropTypes.func.isRequired,\r\n//   shelfOptionSelected: PropTypes.func.isRequired,\r\n//   selectingOption: PropTypes.func.isRequired,\r\n//   selectMenuDisabled: PropTypes.bool.isRequired,\r\n//   homeLoader: PropTypes.bool.isRequired,\r\n//   isAuthenticated: PropTypes.bool.isRequired,\r\n// };\r\n\r\n// export default Home;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAGAA,SAAS,CAAC,MAAM;EACdC,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC,CAAC;AACxD,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;;AAGZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}