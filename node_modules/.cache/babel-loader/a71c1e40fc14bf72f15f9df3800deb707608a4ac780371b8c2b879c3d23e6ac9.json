{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91900\\\\OneDrive\\\\Desktop\\\\capstone project backup copy\\\\frontend\\\\src\\\\components\\\\Home.js\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Loader from \"../ui/Loader/Loader\";\nimport Shelf from \"./Shelf\";\nimport * as BooksAPI from \"../BooksAPI\";\n// import { useCookies } from \"react-cookie\";\n// import { useGetUserID } from '../hooks/useGetUserID'\n\n// import HomePage from './HomePage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = ({\n  shelfs,\n  shelfOptionSelected,\n  selectingOption,\n  selectMenuDisabled,\n  homeLoader,\n  initializeHomeLoader,\n  handleShelfs\n}) => {\n  // const [cookies] = useCookies([\"jwtoken\"]);\n  // const userID = useGetUserID();\n\n  useEffect(() => {\n    initializeHomeLoader();\n    BooksAPI.getAll().then(data => {\n      handleShelfs(data, \"home\");\n    });\n  }, [initializeHomeLoader, handleShelfs]);\n\n  // Save the shelfs data to local storage when it changes\n  useEffect(() => {\n    localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\n  }, [shelfs]);\n  useEffect(() => {\n    const savedShelfs = localStorage.getItem(\"shelfs\");\n    if (savedShelfs) {\n      handleShelfs(JSON.parse(savedShelfs), \"home\");\n    }\n  }, [handleShelfs]);\n  const allShelfs = Object.keys(shelfs).map(shelf => /*#__PURE__*/_jsxDEV(Shelf, {\n    id: shelf,\n    shelfs: shelfs,\n    shelfOptionSelected: shelfOptionSelected,\n    selectingOption: selectingOption,\n    selectMenuDisabled: selectMenuDisabled\n  }, shelf, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-screen\",\n    children: homeLoader ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [selectMenuDisabled && /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"select-shelf-loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: allShelfs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-search\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/search\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Add a book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\nHome.propTypes = {\n  shelfs: PropTypes.object.isRequired,\n  initializeHomeLoader: PropTypes.func.isRequired,\n  handleShelfs: PropTypes.func.isRequired\n};\nexport default Home;\n\n// import React, { Component } from \"react\";\n// import PropTypes from \"prop-types\";\n// import Loader from \"../ui/Loader/Loader\";\n// import Shelf from \"./Shelf\";\n// import * as BooksAPI from \"../BooksAPI\";\n\n// class Home extends Component {\n\n//   componentDidMount() {\n//     const {\n//       initializeHomeLoader,\n//       handleShelfs,\n//       isAuthenticated,\n//       history,\n//     } = this.props;\n\n//     initializeHomeLoader();\n//     BooksAPI.getAll().then((data) => {\n//       handleShelfs(data, \"home\");\n//     });\n\n//     const callHomePage = async () => {\n\n//       try {\n//         if (!isAuthenticated) {\n//           history.push(\"/signin\");\n//         }\n\n//         const res = await fetch(\"/\", {\n//           method: \"GET\",\n//           headers: {\n//             Accept: \"application/json\",\n//             \"Content-Type\": \"application/json\",\n//           },\n//           credentials: \"include\",\n//         });\n\n//         const data = await res.json();\n//         console.log(data);\n\n//         if (!res.status === 200) {\n//           const error = new Error(res.error);\n//           throw error;\n//         }\n//       } catch (err) {\n//         console.log(err);\n//         // history.push(\"/register\");\n//       }\n//     };\n\n//     callHomePage();\n//   }\n\n//   render() {\n//     const {\n//       shelfs,\n//       shelfOptionSelected,\n//       selectingOption,\n//       selectMenuDisabled,\n//       homeLoader,\n//     } = this.props;\n\n//     return (\n//       <div className=\"home-screen\">\n//         {homeLoader ? (\n//           <Loader />\n//         ) : (\n//           <>\n//             {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\n//             <div>\n//               {Object.keys(shelfs).map((shelf) => (\n//                 <Shelf\n//                   key={shelf}\n//                   id={shelf}\n//                   shelfs={shelfs}\n//                   shelfOptionSelected={shelfOptionSelected}\n//                   selectingOption={selectingOption}\n//                   selectMenuDisabled={selectMenuDisabled}\n//                 />\n//               ))}\n//             </div>\n//             <div className=\"open-search\">\n//               <a href=\"/search\">\n//                 <button>Add a book</button>\n//               </a>\n//             </div>\n//           </>\n//         )}\n//       </div>\n//     );\n//   }\n// }\n\n// Home.propTypes = {\n//   shelfs: PropTypes.object.isRequired,\n//   initializeHomeLoader: PropTypes.func.isRequired,\n//   handleShelfs: PropTypes.func.isRequired,\n//   shelfOptionSelected: PropTypes.func.isRequired,\n//   selectingOption: PropTypes.func.isRequired,\n//   selectMenuDisabled: PropTypes.bool.isRequired,\n//   homeLoader: PropTypes.bool.isRequired,\n//   isAuthenticated: PropTypes.bool.isRequired,\n// };\n\n// export default Home;","map":{"version":3,"names":["React","useEffect","Link","PropTypes","Loader","Shelf","BooksAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","shelfs","shelfOptionSelected","selectingOption","selectMenuDisabled","homeLoader","initializeHomeLoader","handleShelfs","getAll","then","data","localStorage","setItem","JSON","stringify","savedShelfs","getItem","parse","allShelfs","Object","keys","map","shelf","id","fileName","_jsxFileName","lineNumber","columnNumber","className","children","to","propTypes","object","isRequired","func"],"sources":["C:/Users/91900/OneDrive/Desktop/capstone project backup copy/frontend/src/components/Home.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Loader from \"../ui/Loader/Loader\";\r\nimport Shelf from \"./Shelf\";\r\nimport * as BooksAPI from \"../BooksAPI\";\r\n// import { useCookies } from \"react-cookie\";\r\n// import { useGetUserID } from '../hooks/useGetUserID'\r\n\r\n// import HomePage from './HomePage';\r\n\r\nconst Home = ({\r\n  shelfs,\r\n  shelfOptionSelected,\r\n  selectingOption,\r\n  selectMenuDisabled,\r\n  homeLoader,\r\n  initializeHomeLoader,\r\n  handleShelfs,\r\n}) => {\r\n  // const [cookies] = useCookies([\"jwtoken\"]);\r\n  // const userID = useGetUserID();\r\n\r\n  useEffect(() => {\r\n    initializeHomeLoader();\r\n    BooksAPI.getAll().then((data) => {\r\n      handleShelfs(data, \"home\");\r\n    });\r\n  }, [initializeHomeLoader, handleShelfs]);\r\n\r\n  // Save the shelfs data to local storage when it changes\r\n  useEffect(() => {\r\n    localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\r\n  }, [shelfs]);\r\n\r\n  useEffect(() => {\r\n    const savedShelfs = localStorage.getItem(\"shelfs\");\r\n    if (savedShelfs) {\r\n      handleShelfs(JSON.parse(savedShelfs), \"home\");\r\n    }\r\n  }, [handleShelfs]);\r\n\r\n  const allShelfs = Object.keys(shelfs).map((shelf) => (\r\n    <Shelf\r\n      key={shelf}\r\n      id={shelf}\r\n      shelfs={shelfs}\r\n      shelfOptionSelected={shelfOptionSelected}\r\n      selectingOption={selectingOption}\r\n      selectMenuDisabled={selectMenuDisabled}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div className=\"home-screen\">\r\n      {homeLoader ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n          <div>{allShelfs}</div>\r\n          <div className=\"open-search\">\r\n            <Link to=\"/search\">\r\n              <button>Add a book</button>\r\n            </Link>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  shelfs: PropTypes.object.isRequired,\r\n  initializeHomeLoader: PropTypes.func.isRequired,\r\n  handleShelfs: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Home;\r\n\r\n// import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n// import Loader from \"../ui/Loader/Loader\";\r\n// import Shelf from \"./Shelf\";\r\n// import * as BooksAPI from \"../BooksAPI\";\r\n\r\n// class Home extends Component {\r\n\r\n//   componentDidMount() {\r\n//     const {\r\n//       initializeHomeLoader,\r\n//       handleShelfs,\r\n//       isAuthenticated,\r\n//       history,\r\n//     } = this.props;\r\n\r\n//     initializeHomeLoader();\r\n//     BooksAPI.getAll().then((data) => {\r\n//       handleShelfs(data, \"home\");\r\n//     });\r\n\r\n//     const callHomePage = async () => {\r\n\r\n//       try {\r\n//         if (!isAuthenticated) {\r\n//           history.push(\"/signin\");\r\n//         }\r\n\r\n//         const res = await fetch(\"/\", {\r\n//           method: \"GET\",\r\n//           headers: {\r\n//             Accept: \"application/json\",\r\n//             \"Content-Type\": \"application/json\",\r\n//           },\r\n//           credentials: \"include\",\r\n//         });\r\n\r\n//         const data = await res.json();\r\n//         console.log(data);\r\n\r\n//         if (!res.status === 200) {\r\n//           const error = new Error(res.error);\r\n//           throw error;\r\n//         }\r\n//       } catch (err) {\r\n//         console.log(err);\r\n//         // history.push(\"/register\");\r\n//       }\r\n//     };\r\n\r\n//     callHomePage();\r\n//   }\r\n\r\n//   render() {\r\n//     const {\r\n//       shelfs,\r\n//       shelfOptionSelected,\r\n//       selectingOption,\r\n//       selectMenuDisabled,\r\n//       homeLoader,\r\n//     } = this.props;\r\n\r\n//     return (\r\n//       <div className=\"home-screen\">\r\n//         {homeLoader ? (\r\n//           <Loader />\r\n//         ) : (\r\n//           <>\r\n//             {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n//             <div>\r\n//               {Object.keys(shelfs).map((shelf) => (\r\n//                 <Shelf\r\n//                   key={shelf}\r\n//                   id={shelf}\r\n//                   shelfs={shelfs}\r\n//                   shelfOptionSelected={shelfOptionSelected}\r\n//                   selectingOption={selectingOption}\r\n//                   selectMenuDisabled={selectMenuDisabled}\r\n//                 />\r\n//               ))}\r\n//             </div>\r\n//             <div className=\"open-search\">\r\n//               <a href=\"/search\">\r\n//                 <button>Add a book</button>\r\n//               </a>\r\n//             </div>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// Home.propTypes = {\r\n//   shelfs: PropTypes.object.isRequired,\r\n//   initializeHomeLoader: PropTypes.func.isRequired,\r\n//   handleShelfs: PropTypes.func.isRequired,\r\n//   shelfOptionSelected: PropTypes.func.isRequired,\r\n//   selectingOption: PropTypes.func.isRequired,\r\n//   selectMenuDisabled: PropTypes.bool.isRequired,\r\n//   homeLoader: PropTypes.bool.isRequired,\r\n//   isAuthenticated: PropTypes.bool.isRequired,\r\n// };\r\n\r\n// export default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}