{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91900\\\\OneDrive\\\\Desktop\\\\capstone project backup copy\\\\frontend\\\\src\\\\components\\\\Search.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Book from './Book';\nimport Loader from '../ui/Loader/Loader';\nimport * as BooksAPI from '../BooksAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.debouncer = this.debounce();\n    this.state = {\n      searchInputValue: \"\"\n    };\n    this.debouncer = this.debouncer.bind(this);\n  }\n  componentDidMount() {\n    this.props.initializeSearchLoader();\n    BooksAPI.getAll().then(data => {\n      this.props.handleShelfs(data, \"search\");\n    });\n  }\n  debounce() {\n    let timeout = null;\n    return function (value) {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => this.generatesearchScreenUI(value), 1000);\n    };\n  }\n  generatesearchScreenUI(value) {\n    BooksAPI.search(value).then(data => {\n      if (data.error) {\n        this.props.resetBooks();\n      } else {\n        this.props.setBooks(data);\n      }\n    });\n  }\n  searchInputTyping(e) {\n    this.props.initializeSearchLoader();\n    this.setState({\n      searchInputValue: e.target.value\n    });\n    let value = e.target.value.trim().toLowerCase();\n    if (value) {\n      this.debouncer(value);\n    } else {\n      this.props.resetBooks();\n    }\n  }\n  render() {\n    const {\n      books,\n      shelfOptionSelected,\n      selectingOption,\n      selectMenuDisabled\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-bar\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-search\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-books-input-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by title or author\",\n            value: this.state.searchInputValue,\n            onChange: e => this.searchInputTyping(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-results\",\n        children: this.props.searchLoader ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 33\n        }, this) : books.length > 0 ? /*#__PURE__*/_jsxDEV(\"ol\", {\n          className: \"books-grid\",\n          children: books.map(book => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Book, {\n              book: book,\n              shelfOptionSelected: shelfOptionSelected,\n              selectingOption: selectingOption,\n              selectMenuDisabled: selectMenuDisabled\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 10\n            }, this)\n          }, Math.random(), false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"auto\",\n            textAlign: \"center\"\n          },\n          children: \"There are no search books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Link","Book","Loader","BooksAPI","jsxDEV","_jsxDEV","Search","Component","constructor","props","debouncer","debounce","state","searchInputValue","bind","componentDidMount","initializeSearchLoader","getAll","then","data","handleShelfs","timeout","value","clearTimeout","setTimeout","generatesearchScreenUI","search","error","resetBooks","setBooks","searchInputTyping","e","setState","target","trim","toLowerCase","render","books","shelfOptionSelected","selectingOption","selectMenuDisabled","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","searchLoader","length","map","book","Math","random","style","margin","textAlign"],"sources":["C:/Users/91900/OneDrive/Desktop/capstone project backup copy/frontend/src/components/Search.js"],"sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport Book from './Book';\r\nimport Loader from '../ui/Loader/Loader';\r\nimport * as BooksAPI from '../BooksAPI';\r\n\r\nexport default class Search extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearchInputValue: \"\"\r\n\t\t}\r\n\r\n\t\tthis.debouncer = this.debouncer.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeSearchLoader();\r\n\t\tBooksAPI.getAll().then(data =>{\r\n            this.props.handleShelfs(data, \"search\");\r\n        });\r\n\t}\r\n\r\n\tdebounce() {\r\n\t\tlet timeout = null;  \r\n\t\treturn function (value) {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t}\r\n\t\t  \ttimeout = setTimeout(() => this.generatesearchScreenUI(value), 1000);\r\n\t\t}\r\n\t}\r\n\t\r\n\tgeneratesearchScreenUI(value) {\r\n\t\tBooksAPI.search(value).then(data => {\r\n\t\t\tif(data.error) {\r\n\t\t\t\tthis.props.resetBooks();\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.setBooks(data);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tdebouncer = this.debounce();\r\n\t\r\n\tsearchInputTyping(e) {\r\n\t\tthis.props.initializeSearchLoader();\r\n\t\tthis.setState({\r\n\t\t\tsearchInputValue: e.target.value\r\n\t\t});\r\n\t\tlet value = e.target.value.trim().toLowerCase();\r\n\t\tif (value) {\r\n\t\t\tthis.debouncer(value);\r\n\t\t} else {\r\n\t\t\tthis.props.resetBooks();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {books, shelfOptionSelected, selectingOption, selectMenuDisabled} = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"search-books\">\r\n\t\t\t\t<div className=\"search-books-bar\">\r\n\t\t\t\t\t<Link to=\"/\"><button className=\"close-search\">Close</button></Link>\r\n\t\t\t\t\t<div className=\"search-books-input-wrapper\">\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tplaceholder=\"Search by title or author\"\r\n\t\t\t\t\t\t\tvalue={this.state.searchInputValue}\r\n\t\t\t\t\t\t\tonChange={(e) => this.searchInputTyping(e)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"search-books-results\">\r\n\t\t\t\t\t{this.props.searchLoader ? <Loader /> : books.length > 0 ? (\r\n\t\t\t\t\t\t<ol className=\"books-grid\">\r\n\t\t\t\t\t\t\t{books.map(book => (\r\n\t\t\t\t\t\t\t\t<li key={Math.random()}>\r\n\t\t\t\t\t\t\t\t\t<Book \r\n\t\t\t\t\t\t\t\t\t\tbook={book}\r\n\t\t\t\t\t\t\t\t\t\tshelfOptionSelected={shelfOptionSelected}\r\n\t\t\t\t\t\t\t\t\t\tselectingOption={selectingOption}\r\n\t\t\t\t\t\t\t\t\t\tselectMenuDisabled={selectMenuDisabled}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t) : <div style={{margin: \"auto\", textAlign: \"center\"}}>There are no search books</div>}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}