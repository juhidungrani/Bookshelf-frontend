{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91900\\\\OneDrive\\\\Desktop\\\\capstone project backup copy\\\\frontend\\\\src\\\\components\\\\Home.js\",\n  _s = $RefreshSig$();\n// import React, { useEffect } from \"react\";\n// import { Link } from \"react-router-dom\";\n// import PropTypes from \"prop-types\";\n// import Loader from \"../ui/Loader/Loader\";\n// import Shelf from \"./Shelf\";\n// import * as BooksAPI from \"../BooksAPI\";\n// import { useCookies } from \"react-cookie\";\n\n// // import HomePage from './HomePage';\n\n// const Home = ({\n//   shelfs,\n//   shelfOptionSelected,\n//   selectingOption,\n//   selectMenuDisabled,\n//   homeLoader,\n//   initializeHomeLoader,\n//   handleShelfs,\n// }) => {\n\n//   const [cookies] = useCookies([\"jwtoken\"]);\n\n//   useEffect(() => {\n//     initializeHomeLoader();\n//     BooksAPI.getAll().then((data) => {\n//       handleShelfs(data, \"home\");\n//     });\n//   }, [initializeHomeLoader, handleShelfs]);\n\n//   useEffect(() => {\n//     localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\n//   }, [shelfs]);\n\n//   const allShelfs = Object.keys(shelfs).map((shelf) => (\n//     <Shelf\n//       key={shelf}\n//       id={shelf}\n//       shelfs={shelfs}\n//       shelfOptionSelected={shelfOptionSelected}\n//       selectingOption={selectingOption}\n//       selectMenuDisabled={selectMenuDisabled}\n//     />\n//   ));\n\n//   return (\n//     <div className=\"home-screen\">\n//       {homeLoader ? (\n//         <Loader />\n//       ) : (\n//         <>\n//           {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\n//           <div>{allShelfs}</div>\n//           <div className=\"open-search\">\n//             <Link to=\"/search\">\n//               <button>Add a book</button>\n//             </Link>\n//           </div>\n//         </>\n//       )}\n//     </div>\n//   );\n// };\n\n// Home.propTypes = {\n//   shelfs: PropTypes.object.isRequired,\n//   initializeHomeLoader: PropTypes.func.isRequired,\n//   handleShelfs: PropTypes.func.isRequired,\n// };\n\n// export default Home;\n\nimport React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Loader from \"../ui/Loader/Loader\";\nimport Shelf from \"./Shelf\";\nimport * as BooksAPI from \"../BooksAPI\";\nimport { useCookies } from \"react-cookie\";\nimport { getUserID } from \"../hooks/getUserID\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Home = ({\n  shelfs,\n  initializeHomeLoader,\n  handleShelfs,\n  shelfOptionSelected,\n  selectingOption,\n  selectMenuDisabled,\n  homeLoader,\n  isAuthenticated,\n  history\n}) => {\n  _s();\n  const [cookies] = useCookies([\"jwtoken\"]);\n  const userID = getUserID();\n  useEffect(() => {\n    initializeHomeLoader();\n    BooksAPI.getAll().then(data => {\n      handleShelfs(data, \"home\");\n    });\n    const callHomePage = async () => {\n      try {\n        if (!isAuthenticated) {\n          history.push(\"/signin\");\n        }\n        if (userID) {\n          const res = await fetch(\"/\", {\n            method: \"GET\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\"\n            }\n          });\n          const data = await res.json();\n          console.log(data);\n          if (res.status !== 200) {\n            const error = new Error(res.error);\n            throw error;\n          }\n        }\n      } catch (err) {\n        console.log(err);\n        // history.push(\"/register\");\n      }\n    };\n\n    callHomePage();\n  }, [initializeHomeLoader, handleShelfs, isAuthenticated, history, userID]);\n  useEffect(() => {\n    window.localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\n  }, [shelfs]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-screen\",\n    children: homeLoader ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [selectMenuDisabled && /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"select-shelf-loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: Object.keys(shelfs).map(shelf => /*#__PURE__*/_jsxDEV(Shelf, {\n          id: shelf,\n          shelfs: shelfs,\n          shelfOptionSelected: shelfOptionSelected,\n          selectingOption: selectingOption,\n          selectMenuDisabled: selectMenuDisabled\n        }, shelf, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"open-search\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/search\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"Add a book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"Sr9M7wDkzG5CNy9ajsCbPn5I2pk=\", false, function () {\n  return [useCookies];\n});\n_c = Home;\nHome.propTypes = {\n  shelfs: PropTypes.object.isRequired,\n  initializeHomeLoader: PropTypes.func.isRequired,\n  handleShelfs: PropTypes.func.isRequired,\n  shelfOptionSelected: PropTypes.func.isRequired,\n  selectingOption: PropTypes.func.isRequired,\n  selectMenuDisabled: PropTypes.bool.isRequired,\n  homeLoader: PropTypes.bool.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired\n};\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","PropTypes","Loader","Shelf","BooksAPI","useCookies","getUserID","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","shelfs","initializeHomeLoader","handleShelfs","shelfOptionSelected","selectingOption","selectMenuDisabled","homeLoader","isAuthenticated","history","_s","cookies","userID","getAll","then","data","callHomePage","push","res","fetch","method","headers","Accept","json","console","log","status","error","Error","err","window","localStorage","setItem","JSON","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","map","shelf","id","href","_c","propTypes","object","isRequired","func","bool","$RefreshReg$"],"sources":["C:/Users/91900/OneDrive/Desktop/capstone project backup copy/frontend/src/components/Home.js"],"sourcesContent":["// import React, { useEffect } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\n// import PropTypes from \"prop-types\";\r\n// import Loader from \"../ui/Loader/Loader\";\r\n// import Shelf from \"./Shelf\";\r\n// import * as BooksAPI from \"../BooksAPI\";\r\n// import { useCookies } from \"react-cookie\";\r\n\r\n// // import HomePage from './HomePage';\r\n\r\n// const Home = ({\r\n//   shelfs,\r\n//   shelfOptionSelected,\r\n//   selectingOption,\r\n//   selectMenuDisabled,\r\n//   homeLoader,\r\n//   initializeHomeLoader,\r\n//   handleShelfs,\r\n// }) => {\r\n\r\n//   const [cookies] = useCookies([\"jwtoken\"]);\r\n\r\n//   useEffect(() => {\r\n//     initializeHomeLoader();\r\n//     BooksAPI.getAll().then((data) => {\r\n//       handleShelfs(data, \"home\");\r\n//     });\r\n//   }, [initializeHomeLoader, handleShelfs]);\r\n\r\n//   useEffect(() => {\r\n//     localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\r\n//   }, [shelfs]);\r\n\r\n//   const allShelfs = Object.keys(shelfs).map((shelf) => (\r\n//     <Shelf\r\n//       key={shelf}\r\n//       id={shelf}\r\n//       shelfs={shelfs}\r\n//       shelfOptionSelected={shelfOptionSelected}\r\n//       selectingOption={selectingOption}\r\n//       selectMenuDisabled={selectMenuDisabled}\r\n//     />\r\n//   ));\r\n\r\n//   return (\r\n//     <div className=\"home-screen\">\r\n//       {homeLoader ? (\r\n//         <Loader />\r\n//       ) : (\r\n//         <>\r\n//           {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n//           <div>{allShelfs}</div>\r\n//           <div className=\"open-search\">\r\n//             <Link to=\"/search\">\r\n//               <button>Add a book</button>\r\n//             </Link>\r\n//           </div>\r\n//         </>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// Home.propTypes = {\r\n//   shelfs: PropTypes.object.isRequired,\r\n//   initializeHomeLoader: PropTypes.func.isRequired,\r\n//   handleShelfs: PropTypes.func.isRequired,\r\n// };\r\n\r\n// export default Home;\r\n\r\nimport React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Loader from \"../ui/Loader/Loader\";\r\nimport Shelf from \"./Shelf\";\r\nimport * as BooksAPI from \"../BooksAPI\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { getUserID } from \"../hooks/getUserID\";\r\n\r\nconst Home = ({\r\n  shelfs,\r\n  initializeHomeLoader,\r\n  handleShelfs,\r\n  shelfOptionSelected,\r\n  selectingOption,\r\n  selectMenuDisabled,\r\n  homeLoader,\r\n  isAuthenticated,\r\n  history,\r\n}) => {\r\n  const [cookies] = useCookies([\"jwtoken\"]);\r\n  const userID = getUserID();\r\n\r\n  useEffect(() => {\r\n    initializeHomeLoader();\r\n    BooksAPI.getAll().then((data) => {\r\n      handleShelfs(data, \"home\");\r\n    });\r\n\r\n    const callHomePage = async () => {\r\n      try {\r\n        if (!isAuthenticated) {\r\n          history.push(\"/signin\");\r\n        }\r\n\r\n        if (userID) {\r\n          const res = await fetch(\"/\", {\r\n            method: \"GET\",\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          });\r\n\r\n          const data = await res.json();\r\n          console.log(data);\r\n\r\n          if (res.status !== 200) {\r\n            const error = new Error(res.error);\r\n            throw error;\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        // history.push(\"/register\");\r\n      }\r\n    };\r\n\r\n    callHomePage();\r\n  }, [initializeHomeLoader, handleShelfs, isAuthenticated, history, userID]);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"shelfs\", JSON.stringify(shelfs));\r\n  }, [shelfs]);\r\n\r\n  return (\r\n    <div className=\"home-screen\">\r\n      {homeLoader ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n          <div>\r\n            {Object.keys(shelfs).map((shelf) => (\r\n              <Shelf\r\n                key={shelf}\r\n                id={shelf}\r\n                shelfs={shelfs}\r\n                shelfOptionSelected={shelfOptionSelected}\r\n                selectingOption={selectingOption}\r\n                selectMenuDisabled={selectMenuDisabled}\r\n              />\r\n            ))}\r\n          </div>\r\n          <div className=\"open-search\">\r\n            <a href=\"/search\">\r\n              <button>Add a book</button>\r\n            </a>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nHome.propTypes = {\r\n  shelfs: PropTypes.object.isRequired,\r\n  initializeHomeLoader: PropTypes.func.isRequired,\r\n  handleShelfs: PropTypes.func.isRequired,\r\n  shelfOptionSelected: PropTypes.func.isRequired,\r\n  selectingOption: PropTypes.func.isRequired,\r\n  selectMenuDisabled: PropTypes.bool.isRequired,\r\n  homeLoader: PropTypes.bool.isRequired,\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}