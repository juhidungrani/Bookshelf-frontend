{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91900\\\\OneDrive\\\\Desktop\\\\capstone project backup copy\\\\frontend\\\\src\\\\components\\\\Home.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Loader from \"../ui/Loader/Loader\";\nimport Shelf from \"./Shelf\";\nimport * as BooksAPI from \"../BooksAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Home extends Component {\n  componentDidMount() {\n    const {\n      initializeHomeLoader,\n      handleShelfs,\n      isAuthenticated,\n      history\n    } = this.props;\n    initializeHomeLoader();\n    BooksAPI.getAll().then(data => {\n      handleShelfs(data, \"home\");\n    });\n    const callHomePage = async () => {\n      try {\n        if (!isAuthenticated) {\n          history.push(\"/signin\");\n        }\n        const res = await fetch(\"/\", {\n          method: \"GET\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n          },\n          credentials: \"include\"\n        });\n        const data = await res.json();\n        console.log(data);\n        if (!res.status === 200) {\n          const error = new Error(res.error);\n          throw error;\n        }\n      } catch (err) {\n        console.log(err);\n        // history.push(\"/register\");\n      }\n    };\n\n    callHomePage();\n  }\n  render() {\n    const {\n      shelfs,\n      shelfOptionSelected,\n      selectingOption,\n      selectMenuDisabled,\n      homeLoader\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-screen\",\n      children: homeLoader ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [selectMenuDisabled && /*#__PURE__*/_jsxDEV(Loader, {\n          className: \"select-shelf-loader\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: Object.keys(shelfs).map(shelf => /*#__PURE__*/_jsxDEV(Shelf, {\n            id: shelf,\n            shelfs: shelfs,\n            shelfOptionSelected: shelfOptionSelected,\n            selectingOption: selectingOption,\n            selectMenuDisabled: selectMenuDisabled\n          }, shelf, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"open-search\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/search\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"Add a book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  }\n}\nHome.propTypes = {\n  shelfs: PropTypes.object.isRequired,\n  initializeHomeLoader: PropTypes.func.isRequired,\n  handleShelfs: PropTypes.func.isRequired,\n  shelfOptionSelected: PropTypes.func.isRequired,\n  selectingOption: PropTypes.func.isRequired,\n  selectMenuDisabled: PropTypes.bool.isRequired,\n  homeLoader: PropTypes.bool.isRequired,\n  isAuthenticated: PropTypes.bool.isRequired\n};\nexport default Home;\n\n// import React from 'react';\n// import {Link} from 'react-router-dom';\n// import PropTypes from 'prop-types';\n// import Loader from '../ui/Loader/Loader';\n// import Shelf from './Shelf';\n// import * as BooksAPI from '../BooksAPI';\n\n// export default class Home extends React.Component {\n\n//     componentDidMount() {\n//         this.props.initializeHomeLoader();\n//         BooksAPI.getAll().then(data =>{\n//             this.props.handleShelfs(data, \"home\");\n//         });\n//     }\n\n//     render() {\n//         const {shelfs, shelfOptionSelected, selectingOption, selectMenuDisabled, homeLoader} = this.props;\n//         const allShelfs = Object.keys(this.props.shelfs).map(shelf => (\n//             <Shelf \n//                 key={shelf} \n//                 id={shelf} \n//                 shelfs={shelfs}\n//                 shelfOptionSelected={shelfOptionSelected}\n//                 selectingOption={selectingOption}\n//                 selectMenuDisabled={selectMenuDisabled}\n//             />\n//         ));\n\n//         return (\n//             <div className=\"home-screen\">\n\n//                 {homeLoader ? <Loader /> : (\n//                     <>\n//                         {selectMenuDisabled && <Loader className=\"select-shelf-loader\"/>}\n//                         <div>{allShelfs}</div>\n//                         <div className=\"open-search\">\n//                             <Link to=\"/search\"><button>Add a book</button></Link>\n//                         </div>\n\n//                     </>\n//                 )}\n//             </div>\n//         )\n//     }\n// }\n\n// Home.propTypes = {\n//     shelfs: PropTypes.object.isRequired,\n//     initializeHomeLoader: PropTypes.func.isRequired,\n//     handleShelfs: PropTypes.func.isRequired\n// };","map":{"version":3,"names":["React","Component","PropTypes","Loader","Shelf","BooksAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","Home","componentDidMount","initializeHomeLoader","handleShelfs","isAuthenticated","history","props","getAll","then","data","callHomePage","push","res","fetch","method","headers","Accept","credentials","json","console","log","status","error","Error","err","render","shelfs","shelfOptionSelected","selectingOption","selectMenuDisabled","homeLoader","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Object","keys","map","shelf","id","href","propTypes","object","isRequired","func","bool"],"sources":["C:/Users/91900/OneDrive/Desktop/capstone project backup copy/frontend/src/components/Home.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Loader from \"../ui/Loader/Loader\";\r\nimport Shelf from \"./Shelf\";\r\nimport * as BooksAPI from \"../BooksAPI\";\r\n\r\nclass Home extends Component {\r\n\r\n  componentDidMount() {\r\n    const {\r\n      initializeHomeLoader,\r\n      handleShelfs,\r\n      isAuthenticated,\r\n      history,\r\n    } = this.props;\r\n\r\n    initializeHomeLoader();\r\n    BooksAPI.getAll().then((data) => {\r\n      handleShelfs(data, \"home\");\r\n    });\r\n\r\n    const callHomePage = async () => {\r\n\r\n      \r\n      try {\r\n        if (!isAuthenticated) {\r\n          history.push(\"/signin\");\r\n        }\r\n\r\n        const res = await fetch(\"/\", {\r\n          method: \"GET\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          credentials: \"include\",\r\n        });\r\n\r\n        const data = await res.json();\r\n        console.log(data);\r\n\r\n        if (!res.status === 200) {\r\n          const error = new Error(res.error);\r\n          throw error;\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        // history.push(\"/register\");\r\n      }\r\n    };\r\n\r\n    callHomePage();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      shelfs,\r\n      shelfOptionSelected,\r\n      selectingOption,\r\n      selectMenuDisabled,\r\n      homeLoader,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"home-screen\">\r\n        {homeLoader ? (\r\n          <Loader />\r\n        ) : (\r\n          <>\r\n            {selectMenuDisabled && <Loader className=\"select-shelf-loader\" />}\r\n            <div>\r\n              {Object.keys(shelfs).map((shelf) => (\r\n                <Shelf\r\n                  key={shelf}\r\n                  id={shelf}\r\n                  shelfs={shelfs}\r\n                  shelfOptionSelected={shelfOptionSelected}\r\n                  selectingOption={selectingOption}\r\n                  selectMenuDisabled={selectMenuDisabled}\r\n                />\r\n              ))}\r\n            </div>\r\n            <div className=\"open-search\">\r\n              <a href=\"/search\">\r\n                <button>Add a book</button>\r\n              </a>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHome.propTypes = {\r\n  shelfs: PropTypes.object.isRequired,\r\n  initializeHomeLoader: PropTypes.func.isRequired,\r\n  handleShelfs: PropTypes.func.isRequired,\r\n  shelfOptionSelected: PropTypes.func.isRequired,\r\n  selectingOption: PropTypes.func.isRequired,\r\n  selectMenuDisabled: PropTypes.bool.isRequired,\r\n  homeLoader: PropTypes.bool.isRequired,\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Home;\r\n\r\n// import React from 'react';\r\n// import {Link} from 'react-router-dom';\r\n// import PropTypes from 'prop-types';\r\n// import Loader from '../ui/Loader/Loader';\r\n// import Shelf from './Shelf';\r\n// import * as BooksAPI from '../BooksAPI';\r\n\r\n// export default class Home extends React.Component {\r\n\r\n//     componentDidMount() {\r\n//         this.props.initializeHomeLoader();\r\n//         BooksAPI.getAll().then(data =>{\r\n//             this.props.handleShelfs(data, \"home\");\r\n//         });\r\n//     }\r\n    \r\n//     render() {\r\n//         const {shelfs, shelfOptionSelected, selectingOption, selectMenuDisabled, homeLoader} = this.props;\r\n//         const allShelfs = Object.keys(this.props.shelfs).map(shelf => (\r\n//             <Shelf \r\n//                 key={shelf} \r\n//                 id={shelf} \r\n//                 shelfs={shelfs}\r\n//                 shelfOptionSelected={shelfOptionSelected}\r\n//                 selectingOption={selectingOption}\r\n//                 selectMenuDisabled={selectMenuDisabled}\r\n//             />\r\n//         ));\r\n\r\n//         return (\r\n//             <div className=\"home-screen\">\r\n          \r\n//                 {homeLoader ? <Loader /> : (\r\n//                     <>\r\n//                         {selectMenuDisabled && <Loader className=\"select-shelf-loader\"/>}\r\n//                         <div>{allShelfs}</div>\r\n//                         <div className=\"open-search\">\r\n//                             <Link to=\"/search\"><button>Add a book</button></Link>\r\n//                         </div>\r\n\r\n//                     </>\r\n//                 )}\r\n//             </div>\r\n//         )\r\n//     }\r\n// }\r\n\r\n// Home.propTypes = {\r\n//     shelfs: PropTypes.object.isRequired,\r\n//     initializeHomeLoader: PropTypes.func.isRequired,\r\n//     handleShelfs: PropTypes.func.isRequired\r\n// };\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}